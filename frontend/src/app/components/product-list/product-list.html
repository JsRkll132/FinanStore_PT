<div class="container mt‑4">
  <h2>Productos</h2>

  <div class="row">
    <div class="col-md-6">
      <form #prodForm="ngForm" (ngSubmit)="addProducto(prodForm)">
        <div class="form-group">
          <label for="productoNombre">Nombre del Producto</label>
          <input type="text"
                 class="form-control"
                 id="productoNombre"
                 [(ngModel)]="newProducto.name"
                 name="name"
                 required
                 #nameCtrl="ngModel">
          <div *ngIf="prodForm.submitted && nameCtrl.invalid" class="text-danger">
            El nombre es obligatorio.
          </div>
        </div>
        <div class="form-group mt‑2">
          <label for="productoPrecio">Precio</label>
          <input type="number"
                 class="form-control"
                 id="productoPrecio"
                 [(ngModel)]="newProducto.price"
                 name="price"
                 required
                 min="0.01"
                 step="0.01"
                 #priceCtrl="ngModel">
          <div *ngIf="prodForm.submitted && priceCtrl.invalid" class="text-danger">
            El precio debe ser mayor a 0.
          </div>
        </div>
        <button type="submit"
                class="btn btn-primary mt‑2">
          Agregar Producto
        </button>
      </form>

      <div *ngIf="alertInvalid" class="alert alert-warning mt‑2">
        ⚠️ Debes completar los datos correctamente antes de agregar el producto.
      </div>
    </div>
  </div>

  <hr>

  <h3>Lista de Productos</h3>
  <table class="table table-bordered mt‑3">
    <thead>
      <tr><th>Nombre</th><th>Precio</th></tr>
    </thead>
    <tbody>
      <tr *ngFor="let producto of productos">
        <td>{{ producto.name }}</td>
        <td>{{ producto.price | currency:'USD' }}</td>
      </tr>
    </tbody>
  </table>
</div>
